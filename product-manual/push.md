# 推送

## 推送功能可以解决哪些问题？

1. 省去「在使用其他第三方推送工具，需要上传唯一用户ID才能发送Push，导致只能给登录用户发，不能给访问用户发，需要先从GIO导出用户ID」的麻烦。
2. 希望有一个比较好的送达率，因此使用了多种推送工具，包括自己对接了厂商通道，但是数据散落在各个地方，也不会回传数据，数据分散难以做分析和优化。
3. 既有 Push 、又有短信等多种营销工具，查数据麻烦，不能做整体分析。
4. Push 效果不理想，数据查看不方便，无法做进一步优化和提升，陷入恶性循环。
5. 接入厂商通道是解决到达率最好的方法，使用厂商自有通道，哪怕app被kill也一样能够送达。但自己一个一个接入SDK既繁琐又容易出错，GIO SDK会自动集成这些厂商通道SDK，只需要简单配置，就能够使用。

## 推送准备：

### Android：配置厂商通道

{% hint style="success" %}
**安卓**：需要至少配置一个厂商通道才可以发送，GIO目前支持 **华为、小米、魅族** 、**oppo和vivo**五个通道。为了提高Push的到达率，建议厂商通道全部配置。非以上厂商机型的安卓设备，默认使用小米通道推送。
{% endhint %}

配置步骤请参见：[厂商通道](../developers/push-channel/)

### iOS：配置生产证书和开发证书

需要上传生产环境和测试环境证书才可以发送Push

在侧边栏中选择 应用配置进入相应APP，添加证书后保存即可。

在运营平台配置界面的左侧边栏中选择应用配置，选择待配置应用，单机查看配置，添加证书后保存即可。

![](../.gitbook/assets/image%20%28121%29.png)

## 新建推送

### 第一步：选择分群和应用

![](../.gitbook/assets/image%20%28132%29.png)



* 选择接受 Push 的用户分群（需要先**创建用户分群**）
* 选择应用，可以选择的应用必须同时满足：

1. 加载了推送SDK
2. 安卓配置了至少一个厂商通道，建议配置所有厂商通道，可以有效提升到达率
3. iOS需要已经上传过生产和测试环境证书

{% hint style="danger" %}
华为渠道和魅族渠道需要配置通道的回传地址，否则拿不到送达数。
{% endhint %}

### 第二步：设置Push基本内容和测试

**推送标题+文本**

目前只支持标题+正文（暂不支持富媒体推送）

在标题和正文处填写需要的内容，左侧手机上会实时展示模拟效果（如下图所示）。

**点击跳转至**

就是用户点击这条推送后的动作，默认「**打开App**」，也可以选择打开至**App内某个特定页面**，打开**H5页面**或者**自定义参数**。

![](../.gitbook/assets/image%20%28140%29.png)

**真机测试**

使用GIO推送，可以非常方便的用测试机测试效果，如果是第一次在某个应用下使用真机测试，需要先点击「添加」设备：

![](../.gitbook/assets/image%20%2884%29.png)

点击「添加」后会出现弹窗，选择需要添加测试设备的应用，一个应用下面可以关联多个测试设备：

![](../.gitbook/assets/image%20%28169%29.png)

用**符合条件的**测试设备扫描该二维码（**该测试设备需要已经安装了对应的App，且该App安装有推送SDK**），扫描成功后，需要您为该测试设备命名，便于之后选择，建议使用设备型号命名（如下图）。

![](../.gitbook/assets/image%20%28114%29.png)

保存成功后，可以点击测试按钮，选择自己刚才添加的设备进行推送预览：

![](../.gitbook/assets/image%20%28146%29.png)

点击「向该设备发送」，正常情况下就可以收到测试推送了。

### 第三步：设置推送类型和上线时间

**推送类型选择：**

![](../.gitbook/assets/image%20%28115%29.png)

* **一次性推送：**适用于运营活动和每日推荐，在推送到达上线时间时，推送的总人群会定下来，发送后即使分群变化，选定的用户群不会有变化，发完即停。
* **循环推送：**满足分群的规则就会每天推送一次，基于每天分群计算的最新结果，适用于对 n 天未登录用户的召回，用户一旦满足某个条件就发推送等场景。（默认不去重，按照当天的分群来发送，如果需要分群去重功能，可以在选择分群的时候利用这个规则，但推送名称需要提前定好）

![](../.gitbook/assets/image%20%28152%29.png)

## **上线**

设置完成后就可以将此Push上线了，上线后可以在列表页看到基本数据，也可以在数据详情页看到更具体的数据并做相关分析。

## 查看推送数据

### 查看推送详情

在推送管理列表中可以看到推送的基础数据，如果想要看更详细的数据以及做更多深入的分析，可以去数据报表页面。

上线了的推送在列表中点击标题就能进入数据详情页面，下面是数据页提供的数据口径解释：

* **目标推送设备数**：符合推送条件的所有用户数，跟所选分群相关。
* **服务器送达**：指的是发送推送请求到第三方服务器。该数据由 GIO 埋点获取。
* **有效设备**：指的是厂商通过回调接口返回给 GIO 的设备送达数据。**关机、无网络、卸载App**以及关闭卸载权限的设备是无法送达的。厂商每秒会发送一次回调数据。
* **消息点击**：指的是 GIO 的 SDK 采集到用户点击消息事件。该数据由 GIO 打点获取。

![](../.gitbook/assets/image%20%2810%29.png)

### 使用分析工具

推送功能为您预置了三个埋点指标及一个维度，您可以在分析工具中使用以获取更详细的数据趋势。

推送功能预置了三个埋点指标及一个维度，您可以在分析工具中使用这些指标及维度查看更详细的数据趋势。

预置指标：

* **消息发送：** （标识符：gio\_push\_message\_sent\)      由GIO服务器执行推送时上报
* **推送消息展示：**（标识符：gio\_push\_message\_arrived\)  安卓由厂商通道回调给我们，iOS由推送 SDK 上报
* **消息点击：**（标识符：gio\_push\_message\_clicked\)  安卓/iOS都由推送 SDK 上报

预置维度：

* **触达推送名称：**（标识符：gio\_push\_message\_name）

注意：

* GIO的分群里将在每日凌晨计算一遍分群成员。如果您是新集成的推送sdk，那么在您将新版app发布给用户使用的第二天凌晨，我们会更新分群里成员的推送渠道注册信息，此时您才可以基于分群发推送。
* 即应用集成完推送sdk，并且发布给人使用后的第二天，才能基于分群做推送。





## 

